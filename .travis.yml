os: linux
dist: xenial
language: php

php: 7.2

git:
  depth: 1

install:
  - composer install

jobs:
  include:
    - script: composer phing lint
      name: "Parallel Lint"
    - script: composer phing phpcs
      name: "CodeSniffer"
    - script: composer phing phpstan
      name: "PHPStan"
    - script: composer phing test:ci
      name: "Tests"

cache:
  directories:
    - $HOME/.composer/cache
